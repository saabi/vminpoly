// vminpoly - Viewport units for old browers https://github.com/saabi/vminpoly
Array.prototype.filter||(Array.prototype.filter=function(e){var t=this.length;if("function"!=typeof e)throw new TypeError;for(var n=new Array,r=arguments[1],o=0;t>o;o++)if(o in this){var i=this[o];e.call(r,i,o,this)&&n.push(i)}return n}),function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):t("undefined"!=typeof exports?exports:e)}(this,function(e){function t(e){return q(e,48,57)}function n(e){return t(e)||q(e,65,70)||q(e,97,102)}function r(e){return q(e,65,90)}function o(e){return q(e,97,122)}function i(e){return r(e)||o(e)}function a(e){return e>=160}function u(e){return i(e)||a(e)||95==e}function p(e){return u(e)||t(e)||45==e}function s(e){return q(e,0,8)||q(e,14,31)||q(e,127,159)}function c(e){return 10==e||12==e}function l(e){return c(e)||9==e||32==e}function d(e){return c(e)||isNaN(e)}function h(e,r){void 0==r&&(r={transformFunctionWhitespace:!1,scientificNotation:!1});for(var o,i,a=-1,h=[],f="data",y=0,U=0,q=0,Y=function(){y+=1,q=U,U=0},j={line:y,column:U},X=function(t){return void 0===t&&(t=1),e.charCodeAt(a+t)},_=function(t){return void 0===t&&(t=1),a+=t,o=e.charCodeAt(a),c(o)?Y():U+=t,!0},K=function(){return a-=1,c(o)?(y-=1,U=q):U-=1,j.line=y,j.column=U,!0},z=function(){return a>=e.length},Q=function(){},V=function(e){return e?e.finish():e=i.finish(),r.loc===!0&&(e.loc={},e.loc.start={line:j.line,column:j.column},j={line:y,column:U},e.loc.end=j),h.push(e),i=void 0,!0},Z=function(e){return i=e,!0},$=function(){return console.log("Parse error at index "+a+", processing codepoint 0x"+o.toString(16)+" in state "+f+"."),!0},ee=function(e){return console.log("MAJOR SPEC ERROR: "+e),!0},te=function(e){return f=e,!0},ne=function(){if(_(),n(o)){for(var e=[],t=0;6>t&&n(o);t++)e.push(o),_();if(null!=e.map)var r=parseInt(e.map(String.fromCharCode).join(""),16);else{for(d1=[],_len=e.length,_i=0;_i<_len;_i++)d1.push(String.fromCharCode(e[_i]));var r=parseInt(d1.join(""),16)}return r>B&&(r=65533),l(o)||K(),r}return o};;){if(a>2*e.length)return"I'm infinite-looping!";switch(_(),f){case"data":if(l(o))for(V(new m);l(X());)_();else if(34==o)te("double-quote-string");else if(35==o)te("hash");else if(39==o)te("single-quote-string");else if(40==o)V(new O);else if(41==o)V(new I);else if(43==o)t(X())||46==X()&&t(X(2))?te("number")&&K():V(new R(o));else if(45==o)45==X(1)&&62==X(2)?_(2)&&V(new k):t(X())||46==X(1)&&t(X(2))?te("number")&&K():te("ident")&&K();else if(46==o)t(X())?te("number")&&K():V(new R(o));else if(47==o)42==X()?_()&&te("comment"):V(new R(o));else if(58==o)V(new S);else if(59==o)V(new T);else if(60==o)33==X(1)&&45==X(2)&&45==X(3)?_(3)&&V(new g):V(new R(o));else if(64==o)te("at-keyword");else if(91==o)V(new N);else if(92==o)d(X())?$()&&V(new R(o)):te("ident")&&K();else if(93==o)V(new C);else if(123==o)V(new b);else if(125==o)V(new E);else if(t(o))te("number")&&K();else if(85==o||117==o)43==X(1)&&n(X(2))?_()&&te("unicode-range"):te("ident")&&K();else if(u(o))te("ident")&&K();else{if(z())return V(new A),h;V(new R(o))}break;case"double-quote-string":void 0==i&&Z(new x),34==o?V()&&te("data"):z()?$()&&V()&&te("data")&&K():c(o)?$()&&V(new w)&&te("data")&&K():92==o?d(X())?$()&&V(new w)&&te("data"):c(X())?_():i.append(ne()):i.append(o);break;case"single-quote-string":void 0==i&&Z(new x),39==o?V()&&te("data"):z()?$()&&V()&&te("data"):c(o)?$()&&V(new w)&&te("data")&&K():92==o?d(X())?$()&&V(new w)&&te("data"):c(X())?_():i.append(ne()):i.append(o);break;case"hash":p(o)?Z(new M(o))&&te("hash-rest"):92==o?d(X())?$()&&V(new R(35))&&te("data")&&K():Z(new M(ne()))&&te("hash-rest"):V(new R(35))&&te("data")&&K();break;case"hash-rest":p(o)?i.append(o):92==o?d(X())?$()&&V()&&te("data")&&K():i.append(ne()):V()&&te("data")&&K();break;case"comment":42==o?47==X()?_()&&te("data"):Q():z()?$()&&te("data")&&K():Q();break;case"at-keyword":45==o?u(X())?Z(new H(45))&&te("at-keyword-rest"):92!=X(1)||d(X(2))?$()&&V(new R(64))&&te("data")&&K():Z(new AtKeywordtoken(45))&&te("at-keyword-rest"):u(o)?Z(new H(o))&&te("at-keyword-rest"):92==o?d(X())?$()&&V(new R(35))&&te("data")&&K():Z(new H(ne()))&&te("at-keyword-rest"):V(new R(64))&&te("data")&&K();break;case"at-keyword-rest":p(o)?i.append(o):92==o?d(X())?$()&&V()&&te("data")&&K():i.append(ne()):V()&&te("data")&&K();break;case"ident":45==o?u(X())?Z(new D(o))&&te("ident-rest"):92!=X(1)||d(X(2))?V(new R(45))&&te("data"):Z(new D(o))&&te("ident-rest"):u(o)?Z(new D(o))&&te("ident-rest"):92==o?d(X())?$()&&te("data")&&K():Z(new D(ne()))&&te("ident-rest"):ee("Hit the generic 'else' clause in ident state.")&&te("data")&&K();break;case"ident-rest":p(o)?i.append(o):92==o?d(X())?$()&&V()&&te("data")&&K():i.append(ne()):40==o?i.ASCIImatch("url")?te("url"):V(new L(i))&&te("data"):l(o)&&r.transformFunctionWhitespace?te("transform-function-whitespace")&&K():V()&&te("data")&&K();break;case"transform-function-whitespace":l(X())?Q():40==o?V(new L(i))&&te("data"):V()&&te("data")&&K();break;case"number":Z(new J),45==o?t(X())?_()&&i.append([45,o])&&te("number-rest"):46==X(1)&&t(X(2))?_(2)&&i.append([45,46,o])&&te("number-fraction"):te("data")&&K():43==o?t(X())?_()&&i.append([43,o])&&te("number-rest"):46==X(1)&&t(X(2))?_(2)&&i.append([43,46,o])&&te("number-fraction"):te("data")&&K():t(o)?i.append(o)&&te("number-rest"):46==o&&t(X())?_()&&i.append([46,o])&&te("number-fraction"):te("data")&&K();break;case"number-rest":t(o)?i.append(o):46==o?t(X())?_()&&i.append([46,o])&&te("number-fraction"):V()&&te("data")&&K():37==o?V(new W(i))&&te("data"):69==o||101==o?t(X())?_()&&i.append([37,o])&&te("sci-notation"):43!=X(1)&&45!=X(1)||!t(X(2))?Z(new P(i,o))&&te("dimension"):i.append([37,X(1),X(2)])&&_(2)&&te("sci-notation"):45==o?u(X())?_()&&Z(new P(i,[45,o]))&&te("dimension"):92==X(1)&&d(X(2))?$()&&V()&&te("data")&&K():92==X(1)?_()&&Z(new P(i,[45,ne()]))&&te("dimension"):V()&&te("data")&&K():u(o)?Z(new P(i,o))&&te("dimension"):92==o?d(X)?$()&&V()&&te("data")&&K():Z(new P(i,ne))&&te("dimension"):V()&&te("data")&&K();break;case"number-fraction":i.type="number",t(o)?i.append(o):37==o?V(new W(i))&&te("data"):69==o||101==o?t(X())?_()&&i.append([101,o])&&te("sci-notation"):43!=X(1)&&45!=X(1)||!t(X(2))?Z(new P(i,o))&&te("dimension"):i.append([101,X(1),X(2)])&&_(2)&&te("sci-notation"):45==o?u(X())?_()&&Z(new P(i,[45,o]))&&te("dimension"):92==X(1)&&d(X(2))?$()&&V()&&te("data")&&K():92==X(1)?_()&&Z(new P(i,[45,ne()]))&&te("dimension"):V()&&te("data")&&K():u(o)?Z(new P(i,o))&&te("dimension"):92==o?d(X)?$()&&V()&&te("data")&&K():Z(new P(i,ne()))&&te("dimension"):V()&&te("data")&&K();break;case"dimension":p(o)?i.append(o):92==o?d(X())?$()&&V()&&te("data")&&K():i.append(ne()):V()&&te("data")&&K();break;case"sci-notation":i.type="number",t(o)?i.append(o):V()&&te("data")&&K();break;case"url":z()?$()&&V(new v)&&te("data"):34==o?te("url-double-quote"):39==o?te("url-single-quote"):41==o?V(new F)&&te("data"):l(o)?Q():te("url-unquoted")&&K();break;case"url-double-quote":i instanceof F||Z(new F),z()?$()&&V(new v)&&te("data"):34==o?te("url-end"):c(o)?$()&&te("bad-url"):92==o?c(X())?_():d(X())?$()&&V(new v)&&te("data")&&K():i.append(ne()):i.append(o);break;case"url-single-quote":i instanceof F||Z(new F),z()?$()&&V(new v)&&te("data"):39==o?te("url-end"):c(o)?$()&&te("bad-url"):92==o?c(X())?_():d(X())?$()&&V(new v)&&te("data")&&K():i.append(ne()):i.append(o);break;case"url-end":z()?$()&&V(new v)&&te("data"):l(o)?Q():41==o?V()&&te("data"):$()&&te("bad-url")&&K();break;case"url-unquoted":i instanceof F||Z(new F),z()?$()&&V(new v)&&te("data"):l(o)?te("url-end"):41==o?V()&&te("data"):34==o||39==o||40==o||s(o)?$()&&te("bad-url"):92==o?d(X())?$()&&te("bad-url"):i.append(ne()):i.append(o);break;case"bad-url":z()?$()&&V(new v)&&te("data"):41==o?V(new v)&&te("data"):92==o?d(X())?Q():ne():Q();break;case"unicode-range":for(var re=[o],oe=[o],ie=1;6>ie&&n(X());ie++)_(),re.push(o),oe.push(o);if(63==X()){for(;6>ie&&63==X();ie++)_(),re.push("0".charCodeAt(0)),oe.push("f".charCodeAt(0));V(new G(re,oe))&&te("data")}else if(45==X(1)&&n(X(2))){_(),_(),oe=[o];for(var ie=1;6>ie&&n(X());ie++)_(),oe.push(o);V(new G(re,oe))&&te("data")}else V(new G(re))&&te("data");break;default:ee("Unknown state '"+f+"'")}}}function f(e){return String.fromCharCode.apply(null,e.filter(function(e){return e}))}function y(e){return this}function w(){return this}function v(){return this}function m(){return this}function g(){return this}function k(){return this}function S(){return this}function T(){return this}function b(){return this}function E(){return this}function N(){return this}function C(){return this}function O(){return this}function I(){return this}function A(){return this}function R(e){return this.value=String.fromCharCode(e),this}function U(){return this}function D(e){this.value=[],this.append(e)}function L(e){this.value=e.finish().value}function H(e){this.value=[],this.append(e)}function M(e){this.value=[],this.append(e)}function x(e){this.value=[],this.append(e)}function F(e){this.value=[],this.append(e)}function J(e){this.value=[],this.append(e),this.type="integer"}function W(e){e.finish(),this.value=e.value,this.repr=e.repr}function P(e,t){e.finish(),this.num=e.value,this.unit=[],this.repr=e.repr,this.append(t)}function G(e,t){return e=parseInt(f(e),16),t=void 0===t?e+1:parseInt(f(t),16),e>B&&(t=e),e>t&&(t=e),t>B&&(t=B),this.start=e,this.end=t,this}var q=function(e,t,n){return e>=t&&n>=e},B=1114111;y.prototype.finish=function(){return this},y.prototype.toString=function(){return this.tokenType},y.prototype.toSourceString=y.prototype.toString,y.prototype.toJSON=function(){return this.toString()},w.prototype=new y,w.prototype.tokenType="BADSTRING",v.prototype=new y,v.prototype.tokenType="BADURL",m.prototype=new y,m.prototype.tokenType="WHITESPACE",m.prototype.toString=function(){return"WS"},m.prototype.toSourceString=function(){return" "},g.prototype=new y,g.prototype.tokenType="CDO",k.prototype=new y,k.prototype.tokenType="CDC",S.prototype=new y,S.prototype.tokenType=":",T.prototype=new y,T.prototype.tokenType=";",b.prototype=new y,b.prototype.tokenType="{",E.prototype=new y,E.prototype.tokenType="}",N.prototype=new y,N.prototype.tokenType="[",C.prototype=new y,C.prototype.tokenType="]",O.prototype=new y,O.prototype.tokenType="(",I.prototype=new y,I.prototype.tokenType=")",A.prototype=new y,A.prototype.tokenType="EOF",R.prototype=new y,R.prototype.tokenType="DELIM",R.prototype.toString=function(){return"DELIM("+this.value+")"},R.prototype.toSourceString=function(){return this.value},U.prototype=new y,U.prototype.append=function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)this.value.push(e[t]);else this.value.push(e);return!0},U.prototype.finish=function(){return this.value=this.valueAsString(),this},U.prototype.ASCIImatch=function(e){return this.valueAsString().toLowerCase()==e.toLowerCase()},U.prototype.valueAsString=function(){return"string"==typeof this.value?this.value:f(this.value)},U.prototype.valueAsCodes=function(){if("string"==typeof this.value){for(var e=[],t=0;t<this.value.length;t++)e.push(this.value.charCodeAt(t));return e}return this.value.filter(function(e){return e})},D.prototype=new U,D.prototype.tokenType="IDENT",D.prototype.toString=function(){return"IDENT("+this.value+")"},D.prototype.toSourceString=function(){return this.value},L.prototype=new U,L.prototype.tokenType="FUNCTION",L.prototype.toString=function(){return"FUNCTION("+this.value+")"},L.prototype.toSourceString=function(){return this.value},H.prototype=new U,H.prototype.tokenType="AT-KEYWORD",H.prototype.toString=function(){return"AT("+this.value+")"},H.prototype.toSourceString=function(){return"@"+this.value},M.prototype=new U,M.prototype.tokenType="HASH",M.prototype.toString=function(){return"HASH("+this.value+")"},M.prototype.toSourceString=function(){return"#"+this.value},x.prototype=new U,x.prototype.tokenType="STRING",x.prototype.toString=function(){return'"'+this.value+'"'},x.prototype.toSourceString=x.prototype.toString,F.prototype=new U,F.prototype.tokenType="URL",F.prototype.toString=function(){return"URL("+this.value+")"},F.prototype.toSourceString=function(){return"url('"+this.value+"')"},J.prototype=new U,J.prototype.tokenType="NUMBER",J.prototype.toString=function(){return"integer"==this.type?"INT("+this.value+")":"NUMBER("+this.value+")"},J.prototype.toSourceString=function(){return"integer"==this.type?this.value:this.value},J.prototype.finish=function(){return this.repr=this.valueAsString(),this.value=1*this.repr,Math.abs(this.value)%1!=0&&(this.type="number"),this},W.prototype=new y,W.prototype.tokenType="PERCENTAGE",W.prototype.toString=function(){return"PERCENTAGE("+this.value+")"},W.prototype.toSourceString=function(){return this.value+"%"},P.prototype=new y,P.prototype.tokenType="DIMENSION",P.prototype.toString=function(){return"DIM("+this.num+","+this.unit+")"},P.prototype.toSourceString=function(){return this.num+this.unit},P.prototype.append=function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)this.unit.push(e[t]);else this.unit.push(e);return!0},P.prototype.finish=function(){return this.unit=f(this.unit),this.repr+=this.unit,this},G.prototype=new y,G.prototype.tokenType="UNICODE-RANGE",G.prototype.toString=function(){return this.start+1==this.end?"UNICODE-RANGE("+this.start.toString(16).toUpperCase()+")":this.start<this.end?"UNICODE-RANGE("+this.start.toString(16).toUpperCase()+"-"+this.end.toString(16).toUpperCase()+")":"UNICODE-RANGE()"},G.prototype.toSourceString=function(){return this.start+1==this.end?"UNICODE-RANGE("+this.start.toString(16).toUpperCase()+")":this.start<this.end?"UNICODE-RANGE("+this.start.toString(16).toUpperCase()+"-"+this.end.toString(16).toUpperCase()+")":"UNICODE-RANGE()"},G.prototype.contains=function(e){return e>=this.start&&e<this.end},e.tokenize=h}),function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):t("undefined"!=typeof exports?exports:e)}(this,function(e){function t(e){function t(){switch(l.tokenType){case"(":case"[":case"{":return n();case"FUNCTION":return c();default:return l}}function n(){for(var e={"(":")","[":"]","{":"}"}[l.tokenType],n=new u(l.tokenType);;)switch(v(),l.tokenType){case"EOF":case e:return n;default:n.append(t())}}function c(){for(var e=new p(l.value),n=new s;;)switch(v(),l.tokenType){case"EOF":case")":return e.append(n),e;case"DELIM":","==l.value?(e.append(n),n=new s):n.append(l);break;default:n.append(t())}}for(var l,d="top-level",h=-1,f=new r,y=[f],w=y[0],v=function(t){return void 0===t&&(t=1),h+=t,l=h<e.length?e[h]:new EOFToken,!0},m=function(){return h--,!0},g=function(){return e[h+1]},k=function(e){return void 0===e?""!==w.fillType?d=w.fillType:"STYLESHEET"==w.type?d="top-level":(console.log("Unknown rule-type while switching to current rule's content mode: ",w),d=""):d=e,!0},S=function(e){return w=e,y.push(w),!0},T=function(e){return console.log("Parse error at token "+h+": "+l+".\n"+e),!0},b=function(){var e=y.pop();return w=y[y.length-1],w.append(e),!0},E=function(){return y.pop(),w=y[y.length-1],!0},N=function(){for(;y.length>1;)b()};;)if(v(),"DELIM"!==l.tokenType||"\r"!==l.value)switch(d){case"top-level":switch(l.tokenType){case"CDO":case"CDC":case"WHITESPACE":break;case"AT-KEYWORD":S(new o(l.value))&&k("at-rule");break;case"{":T("Attempt to open a curly-block at top-level.")&&t();break;case"EOF":return N(),f;default:S(new i)&&k("selector")&&m()}break;case"at-rule":switch(l.tokenType){case";":b()&&k();break;case"{":""!==w.fillType?k(w.fillType):T("Attempt to open a curly-block in a statement-type at-rule.")&&E()&&k("next-block")&&m();break;case"EOF":return N(),f;default:w.appendPrelude(t())}break;case"rule":switch(l.tokenType){case"WHITESPACE":break;case"}":b()&&k();break;case"AT-KEYWORD":S(new o(l.value))&&k("at-rule");break;case"EOF":return N(),f;default:S(new i)&&k("selector")&&m()}break;case"selector":switch(l.tokenType){case"{":k("declaration");break;case"EOF":return E()&&N(),f;default:w.appendSelector(t())}break;case"declaration":switch(l.tokenType){case"WHITESPACE":case";":break;case"}":b()&&k();break;case"AT-RULE":S(new o(l.value))&&k("at-rule");break;case"IDENT":S(new a(l.value))&&k("after-declaration-name");break;case"EOF":return N(),f;default:T()&&E()&&k("next-declaration")}break;case"after-declaration-name":switch(l.tokenType){case"WHITESPACE":break;case":":k("declaration-value");break;case";":T("Incomplete declaration - semicolon after property name.")&&E()&&k();break;case"EOF":return E()&&N(),f;default:T("Invalid declaration - additional token after property name")&&E()&&k("next-declaration")}break;case"declaration-value":switch(l.tokenType){case"DELIM":"!"==l.value&&"IDENTIFIER"==g().tokenType&&"important"==g().value.toLowerCase()?(v(),w.important=!0,k("declaration-end")):w.append(l);break;case";":b()&&k();break;case"}":b()&&b()&&k();break;case"EOF":return N(),f;default:w.append(t())}break;case"declaration-end":switch(l.tokenType){case"WHITESPACE":break;case";":b()&&k();break;case"}":b()&&b()&&k();break;case"EOF":return N(),f;default:T("Invalid declaration - additional token after !important.")&&E()&&k("next-declaration")}break;case"next-block":switch(l.tokenType){case"{":t()&&k();break;case"EOF":return N(),f;default:t()}break;case"next-declaration":switch(l.tokenType){case";":k("declaration");break;case"}":k("declaration")&&m();break;case"EOF":return N(),f;default:t()}break;default:return void console.log("Unknown parsing mode: "+d)}}function n(){return this}function r(){return this.value=[],this}function o(e){return this.name=e,this.prelude=[],this.value=[],e in o.registry&&(this.fillType=o.registry[e]),this}function i(){return this.selector=[],this.value=[],this}function a(e){return this.name=e,this.value=[],this}function u(e){return this.name=e,this.value=[],this}function p(e){return this.name=e,this.value=[],this}function s(){return this.value=[],this}n.prototype.fillType="",n.prototype.toString=function(e){return JSON.stringify(this.toJSON(),null,e)},n.prototype.append=function(e){return this.value.push(e),this},r.prototype=new n,r.prototype.type="STYLESHEET",r.prototype.toJSON=function(){return{type:"stylesheet",value:this.value.map(function(e){return e.toJSON()})}},o.prototype=new n,o.prototype.type="AT-RULE",o.prototype.appendPrelude=function(e){return this.prelude.push(e),this},o.prototype.toJSON=function(){return{type:"at",name:this.name,prelude:this.prelude.map(function(e){return e.toJSON()}),value:this.value.map(function(e){return e.toJSON()})}},o.registry={"import":"",media:"rule","font-face":"declaration",page:"declaration",keyframes:"rule",namespace:"","counter-style":"declaration",supports:"rule",document:"rule","font-feature-values":"declaration",viewport:"","region-style":"rule"},i.prototype=new n,i.prototype.type="STYLE-RULE",i.prototype.fillType="declaration",i.prototype.appendSelector=function(e){return this.selector.push(e),this},i.prototype.toJSON=function(){return{type:"selector",selector:this.selector.map(function(e){return e.toJSON()}),value:this.value.map(function(e){return e.toJSON()})}},a.prototype=new n,a.prototype.type="DECLARATION",a.prototype.toJSON=function(){return{type:"declaration",name:this.name,value:this.value.map(function(e){return e.toJSON()})}},u.prototype=new n,u.prototype.type="BLOCK",u.prototype.toJSON=function(){return{type:"block",name:this.name,value:this.value.map(function(e){return e.toJSON()})}},p.prototype=new n,p.prototype.type="FUNCTION",p.prototype.toJSON=function(){return{type:"func",name:this.name,value:this.value.map(function(e){return e.toJSON()})}},s.prototype=new n,s.prototype.type="FUNCTION-ARG",s.prototype.toJSON=function(){return this.value.map(function(e){return e.toJSON()})},e.parse=t}),function(){var e,t,n,r,o,i,a,u,p,s,c,l;e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],i=function(){var t,n,r;for(r=!1,n=0;n<e.length;){try{r=e[n++]()}catch(o){t=o;continue}break}return r},t=function(e,t){var n,r;r=i(),r.onreadystatechange=function(){if(4===r.readyState){if(200!==r.status&&!e.match(/^file:\/\/\//))throw"Error!";console.log("INFO: processing "+e),t(r.responseText)}};try{r.open("GET",e,!0),r.send()}catch(o){n=o,console.log("ERROR: "+n.message+" ("+n.type+") when accessing "+e)}},a=function(){var e,t;return e=0,t=0,window.innerHeight?(e=window.innerWidth,t=window.innerHeight):document.documentElement&&document.documentElement.clientHeight?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(e=document.body.clientWidth,t=document.body.clientHeight),{width:e,height:t}},r=function(){var e,t,n,r,o;return r=document.createElement("div"),r.id="vminpolyTests",e=document.getElementsByTagName("body")[0],e.appendChild(r),n=document.createElement("style"),t=document.getElementsByTagName("head")[0],t.appendChild(n),o=l(r,n)&&l(r,n)&&c(r,n),e.removeChild(r),t.removeChild(n),o},p=function(e){return window.getComputedStyle?getComputedStyle(e,null):e.currentStyle},n=function(e,t){var n,r;return n="#vminpolyTests { "+t+"; }",e.styleSheet?e.styleSheet.cssText=n:(r=document.createTextNode(n),e.appendChild(r))},o=function(e){return e.styleSheet?e.styleSheet.cssText="":e.innerHTML=""},s=function(e,t){var r,i;return n(t,"height: 50vh"),i=parseInt(window.innerHeight/2,10),r=parseInt(p(e).height,10),o(t),r===i},l=function(e,t){var r,i;return n(t,"width: 50vw"),i=parseInt(window.innerWidth/2,10),r=parseInt(p(e).width,10),o(t),r===i},c=function(e,t){var r,i,a,u,s;return n(t,"width: 50vmin"),a=document.documentElement,s=a.clientWidth/100,u=a.clientHeight/100,r=parseInt(50*Math.min(s,u),10),i=parseInt(p(e).width,10),o(t),r===i},u=function(){var e,n,r,o,i,u,p,s,c,l,d,h;for(e=function(e){var t,n,r,o,i,a,u,p,s,c;for(n=[],s=e.value,i=0,u=s.length;u>i;i++){for(t=s[i],r=!1,c=t.value,a=0,p=c.length;p>a;a++)o=c[a],"DIMENSION"!==o.tokenType||"vmin"!==o.unit&&"vh"!==o.unit&&"vw"!==o.unit||(r=!0);r&&n.push(t)}return e.value=n,n},n=function(t){var r,o,i,a,u,p,s;for(a=[],s=t.value,u=0,p=s.length;p>u;u++)switch(i=s[u],i.type){case"STYLE-RULE":o=e(i),0!==o.length&&a.push(i);break;case"AT-RULE":r=n(i),0!==r.length&&a.push(i)}return t.value=a,a},p=function(){var e,t,n,r,o,i,u,p,s;s=a(),t={vh:s.height/100,vw:s.width/100},t.vmin=Math.min(t.vh,t.vw),p=s.width/s.height,o=function(e,t){var n,r,o,i;if(null!=e.map)return e.map(t);for(n=[],o=0,i=e.length;i>o;o++)r=e[o],n.push(t(r));return n},n=function(e){var n,r,i,a,u,p,s,c,l,d;for(r=[],i=o(e.selector,function(e){return null!=e.toSourceString?e.toSourceString():""}).join(""),i+="{",l=e.value,u=0,s=l.length;s>u;u++){for(n=l[u],i+=n.name,i+=":",d=n.value,p=0,c=d.length;c>p;p++)a=d[p],i+="DIMENSION"!==a.tokenType||"vmin"!==a.unit&&"vh"!==a.unit&&"vw"!==a.unit?a.toSourceString():""+Math.floor(a.num*t[a.unit])+"px";i+=";"}return i+="}\r"},r=function(e){var t,i,a,u,s,c,l,d,h,f,y,w,v,m,g,k,S,T,b,E;for(s="",S=e.value,h=0,v=S.length;v>h;h++)switch(u=S[h],u.type){case"STYLE-RULE":s+=n(u);break;case"AT-RULE":if("media"===u.name){for(a="",t=!1,i=[],T=u.prelude,f=0,m=T.length;m>f;f++)if(l=T[f],"("===l.name){for(a+="(",b=l.value,y=0,g=b.length;g>y;y++)d=b[y],c=null!=d.toSourceString?d.toSourceString():"","IDENT"===d.tokenType&&"max-aspect-ratio"===c&&(t=!0),"NUMBER"===d.tokenType&&i.push(parseInt(c)),a+=c;a+=")"}else a+=l.toSourceString();p<i[0]/i[1]&&(s+=r(u))}else{for(a="",E=u.prelude,w=0,k=E.length;k>w;w++)l=E[w],"("===l.name?(a+="(",a+=o(l.value,function(e){return null!=e.toSourceString?e.toSourceString():""}).join(""),a+=")"):a+=l.toSourceString();s+="@"+u.name+" "+a+" {",s+=r(u),s+="}\n"}}return s},e="";for(u in c)i=c[u],e+=r(i);return null!=l.styleSheet?l.styleSheet.cssText=e:l.innerHTML=e},c={},l=document.createElement("style"),r=document.getElementsByTagName("head")[0],r.appendChild(l),u=document.getElementsByTagName("link"),i=0,s=0,d=0,h=u.length;h>d;d++)o=u[d],"stylesheet"===o.rel&&(i++,t(o.href,function(e){var t,r;r=tokenize(e),t=parse(r),n(t),c[o.href]=t,s++,s===i&&window.onresize()}));window.onresize=p},console.log("About to do the engine unless...",r()),r()||u()}.call(this);
